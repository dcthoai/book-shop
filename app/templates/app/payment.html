
{% extends 'app/base.html' %}
{% load static %}

{% block payment_title %}
    <title>Thanh toán</title>
    <link rel="stylesheet" href="{% static 'app/css/payment.css' %}"/>
{% endblock payment_title %}

{% block payment_content %}
    <div class="payment" id="payment">
        <div class="payment__header">
            <span>Đơn hàng của bạn</span>
        </div>

        <div class="payment__info">
                <div class="wrapper">
                    <span>Họ và tên</span>
                    <input type="text" class="info__input info__name" placeholder="Nhập họ tên người nhận">
                </div>  
                <div class="wrapper">
                    <span>Số điện thoại</span>
                    <input type="text" class="info__input info__phone-number" placeholder="Nhập số điện thoại người nhận">
                </div>
                <div class="wrapper">
                    <span>Địa chỉ</span>
                    <input type="text" class="info__input info__address" placeholder="Nhập địa chỉ người nhận">
                </div>
            </div>

        <div class="space"></div>

        <div class="payment__method">
            <div class="payment__method-heading">
                Chọn phương thức thanh toán của bạn:
            </div>

            <div>
                <div class="payment__method-choice">
                    <input type="radio" name="payment-method" value="zalo-pay">
                    <div class="des">
                        <div class="des__icon">
                            <img src="{% static 'app/images/zalopay.jpg' %}" alt="ZaloPay">
                        </div>
                        <span class="des__heading">Ví ZaloPay</span>
                    </div>
                </div>

                <div class="payment__method-choice">
                    <input type="radio" name="payment-method" value="momo-pay">
                    <div class="des">
                        <div class="des__icon">
                            <img src="{% static 'app/images/momopay.jpg' %}" alt="MomoPay">                    
                        </div>
                        <span class="des__heading">Ví Momo</span>
                    </div>
                </div>

                <div class="payment__method-choice">
                    <input type="radio" name="payment-method" value="banking">
                    <div class="des">
                        <div class="des__icon">
                            <img src="{% static 'app/images/atmpay.jpg' %}" alt="ATMPay">
                        </div>
                        <span class="des__heading">ATM/Internet Banking</span>
                    </div>
                </div>

                <div class="payment__method-choice">
                    <input type="radio" name="payment-method" value="direct-pay">
                    <div class="des">
                        <div class="des__icon">
                            <img src="{% static 'app/images/cashpay.jpg' %}" alt="CashPay">
                        </div>
                        <span class="des__heading">Thanh toán bằng tiền mặt khi nhận hàng</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="space"></div>

        <div class="payment__content">
            <h4>Xem lại sản phẩm của bạn:</h4>
            <div class="list__product">
                {% for item in items %}
                <div class="product">
                    <div class="product__img">
                        <a href="/book/{{item.product.slugName}}"><img src="{{item.product.imageURL}}" alt="image-product"></a>
                    </div>

                    <div class="product__info">
                        <div class="description">
                            <div class="description__heading"><a href="/book/{{item.product.slugName}}">{{item.product.name}}</a></div>
                            <div class="description__price">
                                {{item.product.price}}đ 
                                <del>{{item.product.cost}}đ</del>
                                <div style="float: right; font-size: 16px; color: #ff0000;" class="description__price mobile">x{{item.quantity}}</div>
                            </div>
                        </div>
                        
                        <div class="price">
                            <div class="price__quantity">x{{item.quantity}}</div>
                            <div class="price__total">{{item.get_total}}đ</div>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
        
        <div class="payment__controls">
            <div style="max-width: 960px; margin: 0 auto;">
                <div class="wrapper">
                    <div class="payment__controls-back">
                        <a href="{% url 'cart' %}">
                            <i class="fa-solid fa-angle-left"></i>
                            <p>Quay lại giỏ hàng</p>
                        </a>
                    </div>

                    <div class="payment__controls-price">
                        Tổng cộng:
                        <span>{{order.get_cart_total}}đ</span>
                    </div>
                </div>

                <div class="payment__controls-confirm">
                    <button type="button" id="confirm-payment-btn">Xác nhận thanh toán</button>
                </div> 
            </div>
        </div>
    </div>
    <div id="payment__confirm" class="payment__confirm">
        <div class="payment__windown">
            <div class="payment__windown-close-btn">
                <i class="fa-solid fa-xmark"></i>
            </div>
            <h3 class="payment__windown-title">Thanh toán</h3>
            <img src="" alt="" class="payment__windown-img">
            <button class="payment__windown-btn payment__windown-btn--cancel">Hủy</button>
            <button class="payment__windown-btn payment__windown-btn--accept">Đã thanh toán</button>
        </div>
    </div>
    <div class="payment-complete" id="payment-complete">
        <h3 class="payment-complete__header">Thanh toán thành công</h3>
        <div class="payment-complete__box">
            <div class="payment-complete__box-info">Tên người nhận: <span id="nameInfo"></span> </div>
            <div class="payment-complete__box-info">Số điện thoại: <span id="phoneNumberInfo"></span> </div>
            <div class="payment-complete__box-info">Địa chỉ người nhận: <span id="addressInfo"></span> </div>
            <div class="payment-complete__box-mess">Đơn hàng sẽ được gửi đến bạn trong vài ngày tới, bạn vui lòng để ý điện thoại của bạn nhé !!!</div>
        </div>
    

        <button class="payment-complete__btn">Quay lại cửa hàng</button>
    </div>

{% endblock payment_content %}
